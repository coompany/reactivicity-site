/******************************************************************
Site Name: Brew
Author: Dan Brown

Stylesheet: Main Stylesheet

Here's where the magic happens. First we are calling the bootstrap
LESS files.  Then we'll load Font Awesome.  Any customizations 
should be placed in either custom-variables.less, a new less file,
or the proper file inside less/brew
******************************************************************/


//
// IMPORTING STYLES
//

// Core variables and mixins
//@import "bootstrap/variables.less";
@import "custom-variables.less"; // custom variables
@import "bootstrap/mixins.less";

// Reset
@import "bootstrap/normalize.less";
@import "bootstrap/print.less";

// Core CSS
@import "bootstrap/scaffolding.less";
@import "bootstrap/type.less";
@import "bootstrap/code.less";
@import "bootstrap/grid.less";
@import "bootstrap/tables.less";
@import "bootstrap/forms.less";
@import "bootstrap/buttons.less";

// Components
@import "bootstrap/component-animations.less";
@import "bootstrap/glyphicons.less";
@import "bootstrap/dropdowns.less";
@import "bootstrap/button-groups.less";
@import "bootstrap/input-groups.less";
@import "bootstrap/navs.less";
@import "bootstrap/navbar.less";
@import "bootstrap/breadcrumbs.less";
@import "bootstrap/pagination.less";
@import "bootstrap/pager.less";
@import "bootstrap/labels.less";
@import "bootstrap/badges.less";
@import "bootstrap/jumbotron.less";
@import "bootstrap/thumbnails.less";
@import "bootstrap/alerts.less";
@import "bootstrap/progress-bars.less";
@import "bootstrap/media.less";
@import "bootstrap/list-group.less";
@import "bootstrap/panels.less";
@import "bootstrap/wells.less";
@import "bootstrap/close.less";

// Components w/ JavaScript
@import "bootstrap/modals.less";
@import "bootstrap/tooltip.less";
@import "bootstrap/popovers.less";
@import "bootstrap/carousel.less";

// Utility classes
@import "bootstrap/utilities.less";
@import "bootstrap/responsive-utilities.less";

// Font Awesome
@import "font-awesome/less/font-awesome.less";

// BREW files
@import "brew/wp-core.less"; // styles for text formatting, captions, galleries, etc
@import "brew/global.less"; // BREW global styles
@import "brew/comments.less"; // styles for comments
@import "brew/tables.less"; // styles for tables
@import "brew/form.less"; // styles for forms
@import "brew/sidebar.less"; // styles for sidebars
@import "brew/footer.less"; // styles for footer
@import "brew/content.less"; // styles for wordpress pages/posts etc
@import "brew/nav.less"; // styles for navigation and header
@import "brew/body.less"; // target specific body classes
@import "brew/components.less"; // components built for BREW such as breadcrumbs, next/previous buttons, etc
@import "brew/brew.less"; // this is for the sample BREW site.  Feel free to delete


/*
RETINA (2x RESOLUTION DEVICES)
This applies to the retina iPhone (4s) and iPad (2,3) along with
other displays with a 2x resolution. You can also create a media
query for retina AND a certain size if you want. Go Nuts.
*/
@media only screen and (-webkit-min-device-pixel-ratio: 1.5),
       only screen and (min--moz-device-pixel-ratio: 1.5),
       only screen and (min-device-pixel-ratio: 1.5) {

	// styles in 2x.less
	@import "other/_2x.less";

} // end of media query

/*
iPHONE 5 MEDIA QUERY
Want to get fancy for no good reason? Knock yourself out.
*/
@media (device-height: 568px) and (-webkit-min-device-pixel-ratio: 2) {

  // iPhone 5 or iPod Touch 5th generation styles (you can include your own file if you want)

}

// Gradient colors
@red-dark: #8e2926;
@brown: #9e3c21;
@orange: #e89305;
@orange-light: #f6a400;
@lime: #bab537;
@green: #08b34b;
@blue-light: #51c0c7;

.reacti-gradient {
  background-image: -webkit-linear-gradient(@red-dark, @brown, @orange, @orange-light, @lime, @green, @blue-light);
  background-image: linear-gradient(@red-dark, @brown, @orange, @orange-light, @lime, @green, @blue-light);
  background-repeat: no-repeat;
  //filter: e(%("progid:DXImageTransform.Microsoft.gradient(startColorstr='%d', endColorstr='%d', GradientType=0)",argb(@start-color),argb(@end-color))); // IE9 and down, gets no color-stop at all for proper fallback
}

// Font
@import url(http://fonts.googleapis.com/css?family=Open+Sans:400italic,700,400);
//font-family: 'Open Sans', sans-serif;

@container-tablet:             ((720px + @grid-gutter-width));
@container-sm:                 @container-tablet;
@container-desktop:            ((940px + @grid-gutter-width));
@container-md:                 @container-desktop;
@container-large-desktop:      ((960px + @grid-gutter-width));
@container-lg:                 @container-large-desktop;

@navbar-default-bg: white;

body {
  font-family: 'Open Sans', sans-serif;
  .reacti-gradient;
  background-attachment: fixed;

  #shadow {
    position: absolute;
    width: 96%;
    height: 96%;
    background-color: white;
    z-index: 0;
    margin-left: 2%;
    margin-right: auto;
    margin-top: -10px;
    margin-bottom: 20px;
  }

  header {
    #brand-header {
      background-color: white;
      text-align: center;
      height: 116px;
      padding-top: 8px;
      position: relative;
      h1 a {
        .reacti-gradient;
        background-clip: text;
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        text-transform: uppercase;
        font-weight: bold;
        font-size: 50px;
      }
    }
    nav.navbar {
      .navbar-header {
        margin-right: 8px;
        text-transform: uppercase;
      }
      .navbar-form {
        max-width: 300px;
        margin-right: 20px;
      }
      ul {
        width: 100%;
        li {
          width: 100%/3%;
          a {
            text-align: center;
            text-transform: uppercase;
            font-weight: bold;
            font-size: 16px;
          }
        }
      }
    }
  }

  #content {
    padding: 0;
  }

  #main {

    .white-box {
      background-color: white;
      margin-bottom: 20px;
      //padding-bottom: 6px;

      &.comments-box {
        padding: 8px 16px;
      }
    }

    #home-tiles {
      &:first-child {
        padding-left: 15px;
        padding-right: 15px;
        padding-bottom: 2px;
      }
      .tile-container {
        text-align: center;
        padding: 0px;
        .flip-container {
          margin: 0 auto;
          border: 1px solid @gray-lighter;
          .front {
            .tile-image {
              .div-image;
              min-height: 100%;
            }
          }
          .back {
            .wrapper {
              background-color: @gray-lighter;
              min-height: 100%;
            }
            .post-title {
              font-size: 24px;
              line-height: 22px;
              font-weight: 400;
              a:hover {
                color: @gray-darker;
              }
            }
            .byline {
              font-size: 12px;
              color: @gray;
            }
          }
          footer {
            position: absolute;
            width: 100%;
            bottom: 0px;
            color: @gray;
          }
        }
      }
    }

    #search-container {
      margin-top: 20px;
    }

    .home-news {
      margin-top: 60px;
      article {
        .article-content {
          padding: 3px 12px;
        }
      }
    }

    &.workshops-archive {
      .acf-map {
        margin-bottom: 30px;
      }
      #workshops-list {
        padding: 0px 0px;
      }
    }

    &.single-workshop {
      .featured-img {
        margin-bottom: 0px;
      }
      .map-container {
        margin-bottom: 30px;
        .acf-map {
          height: 240px;
        }
      }
    }

    #about-logos {
      padding-top: 86px;
      section {
        margin-bottom: 86px;
        div {
          img {
            max-height: 120px;
            margin: 0 auto;
          }
        }
      }
      #istituzionali {
        margin-top: 100px;
      }
    }

  }

  #footer {
    background-color: @gray-lighter;
    margin-top: 10px;
    margin-bottom: 20px;
    padding: 0 12px;
    border-top: 0px solid transparent;
    #sub-floor {
      background-color: transparent;
      color: @gray-dark;
    }
  }

}

// Brew override

.pager {
  margin: 20px 16px;
  padding-bottom: 16px;
}

.page-title, .archive-title {
  padding-top: 16px;
  padding-left: 16px;
  margin-top: 0px;
}

.acf-map {
  width: 100%;
  height: 400px;
  /*
  border: 1px solid @gray-light;
  border-left-width: 0px;
  border-right-width: 0px;
  */
}

.div-image {
  background-color: transparent;
  background-size: 100%;
  background-position: 50%;
  background-repeat: no-repeat;
}

h1, h2, h3, h4, h5, h6 {
  a {
    color: @navbar-default-color;
  }
}


// TILES

.tile-container {
  .flip-container {
    .flipper {
      transition: 0.6s;
      transform-style: preserve-3d;
      position: relative;
    }
    &:hover, &.hover {
      .front {
        z-index: 0;
      }
    }
    &, .front, .back {
      width: 100%;
      height: 218px;
    }
    .front, .back {
      backface-visibility: hidden;
      position: absolute;
      top: 0;
      left: 0;
    }
    .front {
      z-index: 10;
    }
    .back {
      z-index: 9;
    }
  }
}


// Media Queries

@media(max-width: @grid-float-breakpoint-max) {
  body {
    header {
      nav.navbar {
        ul {
          display: inline;
          li {
            width: 100%;
          }
        }
      }
    }
    #main {
      #search-container {
        padding: 0px 38px;
      }
    }
  }
}